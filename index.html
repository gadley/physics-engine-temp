<html>
<head>
	<title></title>
	<script type="text/javascript" src="class_lib.js"></script>
</head>
<body style='background-color: white;'>
	<canvas id="environment" width='1000' height="600"></canvas>
	<div id="meter" style ="
	-webkit-transform:rotate(180deg);
	display:inline-block;
	border:1px solid black;
	height:75px;
	width:20px;">
		<div id="bar" style="width:100%;"></div>
	</div>
	<div id="fps" style="display:inline-block;"></div>
	<script type="text/javascript">
	var field=new Field(450);
	field.draw_particles(4);
	// shim layer with setTimeout fallback
window.requestAnimFrame = (function(){
  	return  window.requestAnimationFrame       ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame    ||
        function( callback ){
            window.setTimeout(callback, 1000 / 30);
        };
})();


// usage:
// instead of setInterval(render, 16) ....

(function animloop(){
  requestAnimFrame(animloop);
  field.render();
})();
// place the rAF *before* the render() to assure as close to
// 60fps with the setTimeout fallback.
document.onkeydown = field.checkKey;
	</script>
</body>
</html>